{% extends "base.html" %}
{% block title %}تسجيل الدخول{% endblock %}
{% block extra_css %}
  <style>
    :root{ --bd:#e7e7e7; --ink:#111; --muted:#666; --ok:#0a7; }
    .wrap{min-height:60vh; display:grid; place-items:center;}
    .card{width:min(440px, 92vw); background:#fff; border:1px solid var(--bd); border-radius:14px; padding:1rem 1.1rem; box-shadow:0 6px 24px rgba(0,0,0,.05)}
    h1{margin:.2rem 0 1rem; font-size:1.2rem}
    .inp{width:100%; padding:.6rem .7rem; border:1px solid #ccc; border-radius:10px}
    .row{display:flex; gap:.6rem; align-items:center; flex-wrap:wrap}
    .btn{padding:.55rem .9rem; border-radius:10px; border:1px solid #ccc; background:#fff; cursor:pointer}
    .btn--ok{background:#0a7; color:#fff; border-color:#0a7}
    .btn--ok:hover{filter:brightness(0.95)}
    .muted{color:var(--muted)}
    .err{border:1px solid #f3c2c2; background:#fff6f6; padding:.55rem .7rem; border-radius:10px; margin-bottom:.7rem}
    label{display:block; margin:.4rem 0 .25rem}
  </style>
{% endblock %}
{% block content %}
  <div class="wrap">
    <div class="card" role="form" aria-labelledby="loginTitle">
      <h1 id="loginTitle">تسجيل الدخول</h1>

      {% if form.errors %}
        <div class="err">تأكد من اسم المستخدم وكلمة المرور.</div>
      {% endif %}

      <form method="post" action="">
        {% csrf_token %}
        {% if next %}<input type="hidden" name="next" value="{{ next }}">{% endif %}

        <label for="id_username">اسم المستخدم</label>
        <input class="inp" type="text" name="username" autofocus required id="id_username" autocomplete="username">

        <label for="id_password">كلمة المرور</label>
        <input class="inp" type="password" name="password" required id="id_password" autocomplete="current-password">

        <div class="row" style="margin-top:.8rem; justify-content:space-between">
          <div class="muted">ليس لديك حساب؟ سجّل حسابًا جديدًا أدناه.</div>
          <button class="btn btn--ok" type="submit">دخول</button>
        </div>
      </form>

      <div class="row" style="margin-top:1rem; justify-content:space-between">
        <a class="btn" href="{% url 'register' %}{% if next %}?next={{ next|urlencode }}{% endif %}">تسجيل حساب جديد</a>
        <a class="btn" href="/">الرجوع للصفحة الرئيسية</a>
      </div>
    </div>
  </div>
{% endblock %}
